<templates xml:space="preserve">

<t t-name="crm_inventory_ai.ChatBubble">

<div class="ai-chat-container">

    <div t-if="state.isOpen" class="ai-chat-window">

        <div class="ai-chat-header">
            Asistente IA
        </div>

        <div class="ai-chat-content" t-ref="chatScroll">

            <t t-foreach="state.messages" t-as="msg" t-key="msg.id">
                <div t-attf-class="message {{msg.role}}">
                    <t t-esc="msg.text"/>
                </div>
            </t>

        </div>

        <div class="ai-chat-input">
            <input
                t-on-keydown="onInputKeydown"
                t-model="state.currentInput"
                placeholder="Escribe..."
            />
        </div>

    </div>

    <button
        class="ai-chat-button"
        t-on-click="toggleChat"
    >
        ðŸ¤–
    </button>

</div>

</t>

</templates>
