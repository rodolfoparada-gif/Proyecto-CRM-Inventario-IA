<templates>
    <t t-name="ai_agent_universal.ChatBubble" owl="1">
        <div class="ai-chat-container">
            <div t-if="state.isOpen" class="ai-chat-window">
                <div class="ai-chat-header">Asistente Odoo</div>
                <div class="ai-chat-content">
                    <t t-foreach="state.messages" t-as="msg" t-key="msg.id">
                        <div t-attf-class="message {{msg.role}}">
                            <t t-out="msg.text"/>
                        </div>
                    </t>
                </div>
                <div class="ai-chat-input">
                    <input t-on-keydown="onInputKeydown" t-model="state.currentInput" placeholder="PregÃºntame algo..."/>
                </div>
            </div>
            <button class="ai-chat-button" t-on-click="toggleChat">
                <span>ðŸ¤–</span>
            </button>
        </div>
    </t>
</templates>